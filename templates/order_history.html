{% extends 'base.html' %}

{% block title %}My Orders | SavoRelle{% endblock %}

{% block extra_css %}
.container {
max-width: 900px;
margin: 50px auto;
background: white;
padding: 40px;
border-radius: 20px;
box-shadow: 0 10px 30px rgba(0,0,0,0.05);
}

h2 {
text-align: center;
color: var(--olive);
font-size: 2.5rem;
font-family: 'Pacifico', cursive;
margin-bottom: 30px;
}

.order-card {
border: 1px solid #eee;
border-radius: 10px;
padding: 20px;
margin-bottom: 20px;
}

.order-header {
display: flex;
justify-content: space-between;
font-weight: 700;
margin-bottom: 10px;
}

.order-items {
font-size: 0.9rem;
color: #666;
}
{% endblock %}

{% block content %}
<div class="container">
    <h2>My Orders</h2>
    {% for order in orders %}
    <div class="order-card">
        <div class="order-header">
            <span>Order #{{ order.id }}</span>
            <span>{{ order.created_at|date:"M d, Y" }}</span>
        </div>
        <div>Status: <strong style="color: var(--olive);">{{ order.status }}</strong></div>
        <div class="order-items">
            {% for item in order.items.all %}
            {{ item.item.name }} (x{{ item.quantity }}){% if not forloop.last %}, {% endif %}
            {% endfor %}
        </div>
        {% if order.latitude and order.longitude %}
        <div style="margin-top: 5px; font-size: 0.85rem; color: #777;">
            üìç Location: {{ order.latitude }}, {{ order.longitude }}
        </div>
        {% endif %}
        <div style="margin-top: 10px; font-weight: 600;">Total: ${{ order.total_amount }}</div>
    </div>
    {% empty %}
    <p style="text-align: center;">You haven't placed any orders yet.</p>
    {% endfor %}
</div>
{% endblock %}